<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/1.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/2.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/3.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/5.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/6.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/7.jpg"
                style="height: 400px"
            />
        </div>
        <div class="box">
            <img
                src="./imgs/load.webp"
                data-src="./imgs/8.gif"
                style="height: 400px"
            />
        </div>
    </body>

    <script>
        function lazyLoad() {
            const imgsObject = document.querySelectorAll("img")
            const viewHeight =
                window.innerHeight || document.documentElement.clientHeight
            const scrollHeight =
                document.body.scrollTop || document.documentElement.scrollTop
            const totalView = viewHeight + scrollHeight

            imgsObject.forEach(item => {
                if (item.offsetTop < totalView) {
                    console.log(item.offsetTop)
                    item.src = item.dataset.src
                }
            })
        }

        lazyLoad()
        window.onscroll = lazyLoad
    </script>
</html>
